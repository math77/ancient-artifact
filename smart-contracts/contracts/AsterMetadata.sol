//SPDX-License-Identifier: Unlicense
pragma solidity ^0.8.9;


import "@openzeppelin/contracts/access/Ownable.sol";
import '@openzeppelin/contracts/utils/Strings.sol';
import {IAsterMetadata} from "./interfaces/IAsterMetadata.sol";
import {Base64} from "./libraries/Base64.sol";

import {SymbolsSVGs1} from "./SVGs/SymbolsSVGs1.sol";


contract AsterMetadata is IAsterMetadata, Ownable {
  using Strings for uint8;
  using Strings for uint256;

  address immutable symbolsAddress;

  constructor(address addr) {
    symbolsAddress = addr;
  }

  string private svgStart = '<svg width="608" height="608" viewBox="0 0 608 608" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#a)"><circle cx="304" cy="300" r="300" fill="#000"/><circle cx="304" cy="300" r="296" stroke="#fff" stroke-width="8"/></g><circle cx="304" cy="300" r="279.25" stroke="url(#b)" stroke-width="1.5"/><circle cx="304" cy="300" r="149.25" stroke="url(#b)" stroke-width="1.5"/><circle cx="304" cy="300" r="100" fill="#000" stroke="url(#b)"/><path stroke="url(#b)" stroke-width="1.5" d="M304.75 20v130"/><path stroke="url(#b)" stroke-width="1.5" d="M304.75 450v130"/><path stroke="url(#b)" stroke-width="1.5" d="M154 300.75H24"/><path stroke="url(#b)" stroke-width="1.5" d="M454 299.25h130"/><path d="M211.549 385.963c.424-.386.671-.729.741-1.027.08-.289.027-.575-.158-.857-.176-.291-.44-.61-.792-.957l-.811-.83-3.074 2.803a20.99 20.99 0 0 1-.722.632c-.197.18-.369.318-.515.415l2.347 2.515a3.85 3.85 0 0 0 1.151.846c.416.18.868.21 1.355.091.486-.119 1.011-.435 1.572-.947l.593.65-3.081 2.647-7.007-7.684.65-.593c.316.307.596.476.84.506.253.04.516-.029.788-.205.273-.176.591-.43.956-.763l6.147-5.606c.217-.198.428-.381.634-.551.216-.179.402-.331.559-.456-.162-.158-.338-.332-.528-.52s-.361-.356-.515-.505l.813-.741 6.577 7.212-2.608 2.513-.593-.65c.562-.512.905-.997 1.03-1.454.134-.446.115-.863-.056-1.248a3.518 3.518 0 0 0-.716-1.052l-.973-1.008c-.278-.305-.544-.487-.796-.546-.242-.068-.504-.019-.785.148-.272.157-.605.416-.999.775l-2.32 2.116 2.224 2.438 1.19-1.248.741.813-3.266 2.979-.593-.651Zm3.751 11.034.559-.679a2.67 2.67 0 0 0 1.549.29c.534-.061 1.188-.195 1.964-.403l4.17-1.099c.078-1.353.141-2.467.189-3.343.056-.886.092-1.643.107-2.27.044-.43.089-.79.137-1.078.067-.291.144-.573.231-.847a7.01 7.01 0 0 1-.43-.328 6.44 6.44 0 0 0-.414-.315l.7-.849 4.23 3.484-.56.679-.522-.404c-.359-.278-.635-.393-.829-.346-.186.037-.32.168-.403.394a4.04 4.04 0 0 0-.149.81c-.05.46-.094 1.028-.133 1.704-.039.676-.084 1.391-.134 2.144l3.002-.844a84.116 84.116 0 0 0 1.429-.352 6.12 6.12 0 0 1 1.062-.187l-.659-.491c-.235-.176-.449-.335-.643-.478l.7-.849 3.195 2.632-.559.68a2.404 2.404 0 0 0-1.142-.345 5.927 5.927 0 0 0-1.369.09c-.474.093-.965.207-1.473.341l-3.587.958c-.022.76-.049 1.506-.082 2.239a120.28 120.28 0 0 1-.128 3.678c-.011.37-.028.737-.05 1.099-.011.37-.034.723-.068 1.058.163.117.306.226.429.328.124.101.257.202.399.302l-.699.849-4.06-3.344.559-.679c.383.332.682.493.899.481a.484.484 0 0 0 .452-.328c.092-.217.144-.468.154-.753.024-.533.039-1.169.043-1.908a76.77 76.77 0 0 1 .119-2.442c-.535.147-1.075.299-1.618.455-.525.155-1.064.316-1.616.483l-1.204.33c-.379.103-.768.188-1.169.255l.643.478.627.465-.699.849-3.149-2.594Zm24.26 17.514.401-.805c.358.178.68.219.966.123.286-.096.575-.272.867-.529a187 187 0 0 0 .982-.896l8.545-8.101.717.357-1.08 11.996c-.017.274-.064.638-.141 1.091-.071.442-.18.797-.329 1.065.215.077.418.164.609.259l.591.249-.491.985-4.35-2.166.392-.788c.423.196.743.243.957.142a.901.901 0 0 0 .482-.565c.101-.262.166-.543.195-.841l.185-1.717-4.44-2.077-1.294 1.299c-.191.203-.381.392-.572.565-.19.173-.378.34-.563.502.227.083.46.184.699.303.256.112.483.21.68.294l-.499 1.002-3.509-1.747Zm5.862-3.024 3.76 1.872.378-3.588a41.167 41.167 0 0 1 .371-2.675l-.018-.009c-.244.251-.515.526-.812.825-.298.298-.628.618-.992.958l-2.687 2.617Zm22.329 4.56a5.102 5.102 0 0 0 .099-1.909 3.317 3.317 0 0 0-.681-1.604c-.36-.474-.889-.823-1.588-1.046-.707-.24-1.335-.235-1.885.015-.549.25-.918.653-1.107 1.208-.167.493-.169.957-.007 1.392.166.422.438.845.815 1.269.39.428.836.875 1.34 1.342.411.365.82.757 1.227 1.177a8.16 8.16 0 0 1 1.049 1.327c.297.453.488.947.574 1.483.089.524.032 1.088-.174 1.694-.24.707-.637 1.277-1.192 1.708-.555.431-1.227.689-2.016.773-.776.089-1.644-.03-2.603-.356a6.944 6.944 0 0 1-1.64-.831 6.605 6.605 0 0 1-1.391-1.253l-.175.827-1.156-.392 1.339-4.192.909.309c-.272 1.132-.164 2.098.325 2.898.506.791 1.239 1.35 2.199 1.675.479.163.945.223 1.396.179a2.332 2.332 0 0 0 1.186-.443c.338-.251.583-.598.733-1.04.175-.517.165-1.006-.03-1.467a4.173 4.173 0 0 0-.866-1.308 21.59 21.59 0 0 0-1.233-1.221 29.16 29.16 0 0 1-1.271-1.234 7.759 7.759 0 0 1-1.011-1.314 3.914 3.914 0 0 1-.536-1.47c-.073-.532-.007-1.101.199-1.707.12-.354.309-.705.569-1.053a3.43 3.43 0 0 1 1.023-.899c.423-.251.929-.396 1.52-.434.607-.048 1.309.064 2.104.334.48.162.993.414 1.539.754a4.779 4.779 0 0 1 1.397 1.298l.195-.821 1.136.385-1.44 4.243-.871-.296Zm17.941 4.212c.133-.748.169-1.386.109-1.914-.06-.528-.25-.952-.568-1.272-.304-.318-.772-.531-1.403-.641l-1.413-.275-2.009 10.204c-.069.354-.138.673-.207.958-.054.275-.11.495-.17.66.254.022.525.062.813.118.303.045.574.084.812.117l-.21 1.08-4.986-.972.168-.863c.437.058.762.026.976-.096.214-.121.378-.333.491-.637.116-.317.22-.711.312-1.183l1.905-9.776-1.652-.301c-.799-.156-1.433-.001-1.904.464-.471.465-.817 1.261-1.036 2.386l-.923-.18.944-4.217 11.583 2.257-.709 4.263-.923-.18Zm5.906 10.493.047-.879c.441-.003.759-.079.954-.229.208-.149.348-.382.418-.699.071-.316.119-.721.146-1.213l.448-8.308c.016-.293.037-.572.065-.838.028-.279.055-.518.079-.717h-.741c-.267-.001-.508 0-.721.001l.059-1.098c.813.03 1.632.068 2.457.113a79.04 79.04 0 0 1 2.497.134c1.251.068 2.275.27 3.072.607.797.323 1.38.775 1.749 1.356.383.581.544 1.298.485 2.149a3.806 3.806 0 0 1-.406 1.58c-.254.507-.659.953-1.213 1.337-.555.384-1.304.657-2.248.82.258.174.486.407.683.698.198.291.401.616.609.974l1.117 1.943c.231.413.446.765.644 1.056.198.291.426.524.683.698.259.161.574.251.947.272l-.047.878-2.776-.149a5.924 5.924 0 0 1-.848-.988 58.26 58.26 0 0 1-.717-1.2l-1.257-2.311-.513-.889a3.712 3.712 0 0 0-.577-.812l-.639-.035-.619-.033-.178 3.295c-.019.36-.044.685-.073.978a4.66 4.66 0 0 1-.076.677c.16-.005.327-.003.5.006l.541-.01c.188-.004.348-.002.481.005l-.059 1.099-4.973-.268Zm5.048-6.698c.733.026 1.365-.053 1.895-.238.532-.199.95-.517 1.254-.954.304-.451.477-1.043.516-1.775.029-.546-.026-1.01-.165-1.391a2.214 2.214 0 0 0-.631-.935 2.526 2.526 0 0 0-1.031-.557 5.036 5.036 0 0 0-1.29-.229c-.426-.023-.743.04-.951.189-.195.149-.328.376-.398.679a7.232 7.232 0 0 0-.143 1.174l-.211 3.914c.199.025.384.055.556.091.185.023.385.034.599.032Zm17.207-6.321c-.425.041-.732.154-.92.34-.189.173-.3.421-.332.744a7.445 7.445 0 0 0 0 1.222l.538 8.203c.023.359.038.685.044.979.018.279.02.506.004.681.225-.041.47-.071.736-.088.279-.032.517-.061.716-.087l.072 1.098-4.91.321-.057-.878c.437-.055.744-.169.92-.341.189-.172.299-.42.332-.743.032-.323.032-.73 0-1.223l-.544-8.302c-.02-.293-.031-.572-.035-.839a41.959 41.959 0 0 1-.008-.721c-.225.028-.47.057-.735.088-.266.031-.504.06-.716.087l-.072-1.098 4.909-.322.058.879Zm15.176 1.292a5.093 5.093 0 0 0-.843-1.717 3.324 3.324 0 0 0-1.375-1.07c-.545-.239-1.177-.286-1.896-.141-.735.134-1.281.445-1.64.93a1.988 1.988 0 0 0-.379 1.595c.094.511.317.918.67 1.219.351.288.795.526 1.33.712.549.184 1.157.358 1.824.521.536.118 1.085.262 1.644.431.56.169 1.08.385 1.562.649.48.251.888.59 1.223 1.017.333.413.558.935.673 1.564.134.735.064 1.425-.211 2.072s-.736 1.199-1.385 1.656c-.635.455-1.451.774-2.447.956a6.997 6.997 0 0 1-1.838.072 6.659 6.659 0 0 1-1.825-.418l.25.808-1.2.219-.871-4.313.945-.173c.313 1.122.878 1.913 1.695 2.374.826.445 1.738.576 2.735.394a3.309 3.309 0 0 0 1.307-.524c.373-.258.647-.579.82-.963.174-.384.219-.806.135-1.265-.098-.538-.345-.96-.74-1.267a4.148 4.148 0 0 0-1.393-.722 21.523 21.523 0 0 0-1.671-.467 29.57 29.57 0 0 1-1.711-.459 7.75 7.75 0 0 1-1.523-.657 3.922 3.922 0 0 1-1.183-1.024c-.323-.429-.541-.958-.657-1.588a3.84 3.84 0 0 1-.015-1.196c.057-.431.209-.859.456-1.283.248-.425.62-.798 1.117-1.12.508-.336 1.175-.58 2.001-.732a7.515 7.515 0 0 1 1.712-.089c.656.029 1.273.18 1.852.454l-.23-.812 1.181-.216.806 4.407-.905.166Zm12.992 10.438-.726-.264c.088-.221.159-.52.214-.898a5.7 5.7 0 0 0 .072-1.232 3.21 3.21 0 0 0-.232-1.203 1.109 1.109 0 0 1-.227.15c-.06.032-.128.059-.205.082-.268.08-.531.061-.789-.058-.261-.131-.44-.356-.534-.675-.111-.371-.089-.697.064-.979.161-.298.402-.495.721-.59.499-.148.923-.079 1.272.207.358.269.615.665.77 1.189.103.345.159.767.167 1.265.022.494-.016.999-.113 1.515a6.27 6.27 0 0 1-.454 1.491Zm17.697-10.357-.419-.796c.354-.186.575-.424.664-.712.09-.288.115-.626.077-1.012a134.97 134.97 0 0 0-.153-1.321l-1.582-11.668.707-.373 9.106 7.884c.212.174.48.425.803.752.317.315.541.612.672.889a5.89 5.89 0 0 1 .566-.343c.194-.117.376-.228.547-.334l.513.974-4.299 2.265-.411-.778c.407-.229.632-.461.674-.694a.896.896 0 0 0-.176-.721 3.185 3.185 0 0 0-.569-.65l-1.286-1.154-4.279 2.391.298 1.81c.054.273.095.537.125.793.029.256.055.506.078.75.2-.135.418-.265.654-.39.242-.142.454-.269.636-.38l.522.991-3.468 1.827Zm.97-6.524 3.716-1.958-2.691-2.403a88.926 88.926 0 0 1-1.013-.936c-.334-.321-.648-.63-.941-.928l-.018.009c.061.345.126.725.195 1.141.068.416.135.871.199 1.365l.553 3.71Zm15.922-2.955-.514-.714c.342-.279.542-.538.6-.777.069-.246.032-.515-.112-.806a7.654 7.654 0 0 0-.647-1.037l-4.859-6.754c-.171-.238-.329-.47-.474-.694a37.01 37.01 0 0 1-.388-.608l-.577.465a47.73 47.73 0 0 0-.562.453l-.642-.893c.653-.486 1.314-.97 1.985-1.453a80.99 80.99 0 0 1 2.03-1.46c1.017-.732 1.942-1.216 2.773-1.453.824-.247 1.562-.261 2.214-.04.662.214 1.237.67 1.725 1.371.322.425.547.92.674 1.486.12.554.084 1.155-.108 1.802-.191.647-.604 1.329-1.237 2.048.31-.026.633.012.97.115.337.103.698.229 1.085.378l2.088.814c.439.176.827.316 1.164.419.337.103.66.141.97.115.302-.037.605-.164.908-.382l.513.715-2.256 1.623a5.949 5.949 0 0 1-1.28-.238 54.569 54.569 0 0 1-1.31-.486l-2.429-1.012-.957-.372c-.33-.14-.65-.23-.958-.271l-.52.374-.503.362 1.927 2.679c.21.292.395.561.556.807.163.227.285.419.364.576.123-.105.254-.207.395-.309l.415-.347c.143-.12.269-.219.378-.297l.642.893-4.043 2.908Zm-.265-8.383c.588-.439 1.03-.897 1.328-1.374.29-.487.416-.997.378-1.529-.045-.542-.281-1.111-.71-1.706-.319-.444-.652-.771-1-.98a2.213 2.213 0 0 0-1.078-.334 2.536 2.536 0 0 0-1.152.213c-.387.147-.77.357-1.149.63-.347.249-.554.497-.623.743-.058.239-.019.499.116.779.136.28.344.615.624 1.004l2.29 3.183c.17-.106.333-.199.489-.279.159-.098.322-.215.487-.35Zm13.866-15.182a5.1 5.1 0 0 0-1.643-.979 3.323 3.323 0 0 0-1.736-.146c-.588.097-1.143.403-1.666.917-.542.514-.831 1.072-.866 1.674-.035.603.149 1.117.552 1.543.358.378.767.596 1.227.656.452.05.953.007 1.503-.129a22.583 22.583 0 0 0 1.812-.559 22.576 22.576 0 0 1 1.613-.537 8.138 8.138 0 0 1 1.664-.308 3.752 3.752 0 0 1 1.58.184c.504.165.977.479 1.417.944.513.542.832 1.159.954 1.851.123.692.038 1.406-.256 2.143-.284.728-.794 1.441-1.529 2.138a6.956 6.956 0 0 1-1.5 1.062 6.642 6.642 0 0 1-1.758.646l.65.541-.885.839-3.084-3.139.697-.661c.875.769 1.78 1.124 2.715 1.064.936-.078 1.772-.466 2.508-1.163.368-.348.637-.732.809-1.152.172-.42.226-.838.161-1.255a2.09 2.09 0 0 0-.577-1.133c-.376-.397-.813-.616-1.312-.658a4.16 4.16 0 0 0-1.561.156c-.541.146-1.093.319-1.655.521s-1.123.384-1.684.548a7.718 7.718 0 0 1-1.635.281 3.925 3.925 0 0 1-1.55-.211c-.504-.184-.977-.508-1.417-.973a3.82 3.82 0 0 1-.666-.994 3.434 3.434 0 0 1-.318-1.324c-.024-.491.084-1.007.325-1.547.242-.56.667-1.128 1.277-1.706a7.53 7.53 0 0 1 1.386-1.009 4.782 4.782 0 0 1 1.799-.631l-.635-.554.871-.826 3.081 3.253-.668.633Zm14.1-.552c-.235.273-.535.42-.903.438a1.41 1.41 0 0 1-.978-.364 1.344 1.344 0 0 1-.482-.913c-.039-.385.05-.704.267-.957.234-.273.536-.41.905-.41.358-.009.679.108.963.351.293.252.459.561.497.927.046.355-.044.665-.269.928Z" fill="#fff"/>';

  string private sun = '<g clip-path="url(#x)"><path d="m299.87 301.5 3.473 92.329s0 1.737 1.157 1.737c1.158 0 1.158-1.737 1.158-1.737l3.473-92.329" fill="#000"/><path d="m299.87 301.5 3.473 92.329s0 1.737 1.157 1.737c1.158 0 1.158-1.737 1.158-1.737l3.473-92.329" stroke="url(#b)" stroke-width="1.838"/><path d="m295.77 331.33c-5.318 11.619-0.751 21.113-6.064 31.256-5.312 10.143-1.991 18.498-2.347 23.151-0.356 4.654-4.163 5.947-3.202 7.028 0.961 1.082 4.942-1.062 6.495-7.244s-2.153-9.742 4.217-22.18c6.37-12.439 1.309-18.047 7.703-29.151" fill="#000"/><path d="m295.77 331.33c-5.318 11.619-0.751 21.113-6.064 31.256-5.312 10.143-1.991 18.498-2.347 23.151-0.356 4.654-4.163 5.947-3.202 7.028 0.961 1.082 4.942-1.062 6.495-7.244s-2.153-9.742 4.217-22.18c6.37-12.439 1.309-18.047 7.703-29.151" stroke="url(#b)" stroke-width="1.838"/><path d="m309.13 301.5-3.474-92.33s0-1.736-1.157-1.736c-1.158 0-1.158 1.736-1.158 1.736l-3.473 92.33" fill="#000"/><path d="m309.13 301.5-3.474-92.33s0-1.736-1.157-1.736c-1.158 0-1.158 1.736-1.158 1.736l-3.473 92.33" stroke="url(#b)" stroke-width="1.838"/><path d="m313.23 271.67c5.318-11.618 0.751-21.113 6.064-31.256 5.312-10.143 1.991-18.498 2.347-23.151s4.163-5.946 3.202-7.028-4.942 1.062-6.495 7.244 2.153 9.742-4.217 22.18c-6.371 12.439-1.309 18.047-7.703 29.151" fill="#000"/><path d="m313.23 271.67c5.318-11.618 0.751-21.113 6.064-31.256 5.312-10.143 1.991-18.498 2.347-23.151s4.163-5.946 3.202-7.028-4.942 1.062-6.495 7.244 2.153 9.742-4.217 22.18c-6.371 12.439-1.309 18.047-7.703 29.151" stroke="url(#b)" stroke-width="1.838"/><path d="m304.5 296.87-92.331 3.474s-1.737 0-1.737 1.157c0 1.158 1.737 1.158 1.737 1.158l92.331 3.473" fill="#000"/><path d="m304.5 296.87-92.331 3.474s-1.737 0-1.737 1.157c0 1.158 1.737 1.158 1.737 1.158l92.331 3.473" stroke="url(#b)" stroke-width="1.838"/><path d="M274.672 292.773c-11.619-5.318-21.114-.751-31.257-6.064-10.143-5.312-18.498-1.991-23.151-2.347-4.654-.356-5.947-4.164-7.028-3.202-1.082.961 1.062 4.942 7.244 6.495 6.181 1.553 9.742-2.153 22.18 4.217 12.438 6.371 18.046 1.309 29.15 7.703" fill="#000"/><path d="M274.672 292.773c-11.619-5.318-21.114-.751-31.257-6.064-10.143-5.312-18.498-1.991-23.151-2.347-4.654-.356-5.947-4.164-7.028-3.202-1.082.961 1.062 4.942 7.244 6.495 6.181 1.553 9.742-2.153 22.18 4.217 12.438 6.371 18.046 1.309 29.15 7.703" stroke="url(#b)" stroke-width="1.838"/><path d="m304.5 306.13 92.331-3.473s1.737 0 1.737-1.158-1.737-1.158-1.737-1.158l-92.331-3.473" fill="#000"/><path d="m304.5 306.13 92.331-3.473s1.737 0 1.737-1.158-1.737-1.158-1.737-1.158l-92.331-3.473" stroke="url(#b)" stroke-width="1.838"/><path d="m334.33 310.22c11.619 5.318 21.113 0.752 31.256 6.064 10.143 5.313 18.498 1.991 23.152 2.347 4.653 0.356 5.946 4.164 7.028 3.202 1.082-0.961-1.062-4.941-7.244-6.495-6.182-1.553-9.742 2.153-22.18-4.217s-18.046-1.309-29.151-7.703" fill="#000"/><path d="m334.33 310.22c11.619 5.318 21.113 0.752 31.256 6.064 10.143 5.313 18.498 1.991 23.152 2.347 4.653 0.356 5.946 4.164 7.028 3.202 1.082-0.961-1.062-4.941-7.244-6.495-6.182-1.553-9.742 2.153-22.18-4.217s-18.046-1.309-29.151-7.703" stroke="url(#b)" stroke-width="1.838"/><path d="m301.226 298.224-62.829 67.743s-1.228 1.228-.409 2.046c.819.819 2.047-.409 2.047-.409l67.742-62.83" fill="#000"/><path d="m301.226 298.224-62.829 67.743s-1.228 1.228-.409 2.046c.819.819 2.047-.409 2.047-.409l67.742-62.83" stroke="url(#b)" stroke-width="1.838"/><path d="m277.24 316.42c-11.975 4.455-15.46 14.398-26.389 17.813-10.929 3.416-14.488 11.673-18.03 14.711s-7.148 1.261-7.234 2.705c-0.085 1.445 4.246 2.744 9.716-0.529 5.469-3.274 5.366-8.411 18.665-12.702 13.3-4.291 13.686-11.835 26.059-15.166" fill="#000"/><path d="m277.24 316.42c-11.975 4.455-15.46 14.398-26.389 17.813-10.929 3.416-14.488 11.673-18.03 14.711s-7.148 1.261-7.234 2.705c-0.085 1.445 4.246 2.744 9.716-0.529 5.469-3.274 5.366-8.411 18.665-12.702 13.3-4.291 13.686-11.835 26.059-15.166" stroke="url(#b)" stroke-width="1.838"/><path d="m307.77 304.77 62.829-67.742s1.228-1.228 0.409-2.047-2.047 0.409-2.047 0.409l-67.742 62.83" fill="#000"/><path d="m307.77 304.77 62.829-67.742s1.228-1.228 0.409-2.047-2.047 0.409-2.047 0.409l-67.742 62.83" stroke="url(#b)" stroke-width="1.838"/><path d="m331.76 286.58c11.976-4.455 15.461-14.398 26.389-17.813 10.929-3.415 14.489-11.672 18.031-14.711 3.541-3.038 7.148-1.26 7.233-2.705s-4.245-2.743-9.715 0.53-5.366 8.411-18.666 12.701c-13.3 4.291-13.686 11.836-26.059 15.166" fill="#000"/><path d="m331.76 286.58c11.976-4.455 15.461-14.398 26.389-17.813 10.929-3.415 14.489-11.672 18.031-14.711 3.541-3.038 7.148-1.26 7.233-2.705s-4.245-2.743-9.715 0.53-5.366 8.411-18.666 12.701c-13.3 4.291-13.686 11.836-26.059 15.166" stroke="url(#b)" stroke-width="1.838"/><path d="m307.774 298.224-67.742-62.83s-1.228-1.228-2.047-.409c-.818.818.41 2.046.41 2.046l62.828 67.743" fill="#000"/><path d="m307.774 298.224-67.742-62.83s-1.228-1.228-2.047-.409c-.818.818.41 2.046.41 2.046l62.828 67.743" stroke="url(#b)" stroke-width="1.838"/><path d="M289.579 274.237c-4.456-11.975-14.398-15.461-17.814-26.389-3.415-10.929-11.672-14.488-14.711-18.031-3.038-3.542-1.26-7.148-2.705-7.234-1.445-.085-2.743 4.246.53 9.716 3.273 5.469 8.411 5.366 12.701 18.665 4.291 13.3 11.836 13.686 15.166 26.06" fill="#000"/><path d="M289.579 274.237c-4.456-11.975-14.398-15.461-17.814-26.389-3.415-10.929-11.672-14.488-14.711-18.031-3.038-3.542-1.26-7.148-2.705-7.234-1.445-.085-2.743 4.246.53 9.716 3.273 5.469 8.411 5.366 12.701 18.665 4.291 13.3 11.836 13.686 15.166 26.06" stroke="url(#b)" stroke-width="1.838"/><path d="m301.226 304.771 67.742 62.83s1.228 1.228 2.047.409c.818-.818-.41-2.046-.41-2.046l-62.828-67.743" fill="#000"/><path d="m301.226 304.771 67.742 62.83s1.228 1.228 2.047.409c.818-.818-.41-2.046-.41-2.046l-62.828-67.743" stroke="url(#b)" stroke-width="1.838"/><path d="m319.42 328.76c4.455 11.976 14.398 15.461 17.813 26.39 3.416 10.928 11.672 14.488 14.711 18.03s1.261 7.149 2.705 7.234c1.445 0.085 2.744-4.246-0.529-9.715-3.273-5.47-8.411-5.367-12.702-18.666-4.291-13.3-11.835-13.686-15.166-26.059" fill="#000"/><path d="m319.42 328.76c4.455 11.976 14.398 15.461 17.813 26.39 3.416 10.928 11.672 14.488 14.711 18.03s1.261 7.149 2.705 7.234c1.445 0.085 2.744-4.246-0.529-9.715-3.273-5.47-8.411-5.367-12.702-18.666-4.291-13.3-11.835-13.686-15.166-26.059" stroke="url(#b)" stroke-width="1.838"/><path d="m300.22 299.73-32.124 86.628s-0.665 1.605 0.405 2.048 1.734-1.162 1.734-1.162l38.542-83.973" fill="#000"/><path d="m300.22 299.73-32.124 86.628s-0.665 1.605 0.405 2.048 1.734-1.162 1.734-1.162l38.542-83.973" stroke="url(#b)" stroke-width="1.838"/><path d="m285.02 325.72c-9.359 8.7-8.774 19.219-17.564 26.557-8.79 7.337-8.918 16.328-11.028 20.491s-6.122 3.9-5.648 5.268c0.475 1.367 4.972 0.909 8.773-4.208s1.739-9.824 12.385-18.878c10.645-9.054 8.115-16.172 18.272-23.984" fill="#000"/><path d="m285.02 325.72c-9.359 8.7-8.774 19.219-17.564 26.557-8.79 7.337-8.918 16.328-11.028 20.491s-6.122 3.9-5.648 5.268c0.475 1.367 4.972 0.909 8.773-4.208s1.739-9.824 12.385-18.878c10.645-9.054 8.115-16.172 18.272-23.984" stroke="url(#b)" stroke-width="1.838"/><path d="m308.78 303.27 32.124-86.628s0.665-1.604-0.405-2.047-1.734 1.161-1.734 1.161l-38.542 83.973" fill="#000"/><path d="m308.78 303.27 32.124-86.628s0.665-1.604-0.405-2.047-1.734 1.161-1.734 1.161l-38.542 83.973" stroke="url(#b)" stroke-width="1.838"/><path d="m323.98 277.28c9.359-8.699 8.774-19.219 17.564-26.556 8.79-7.338 8.918-16.328 11.028-20.491s6.122-3.901 5.648-5.268c-0.475-1.368-4.972-0.91-8.773 4.207s-1.739 9.824-12.384 18.878c-10.646 9.054-8.116 16.172-18.273 23.984" fill="#000"/><path d="m323.98 277.28c9.359-8.699 8.774-19.219 17.564-26.556 8.79-7.338 8.918-16.328 11.028-20.491s6.122-3.901 5.648-5.268c-0.475-1.368-4.972-0.91-8.773 4.207s-1.739 9.824-12.384 18.878c-10.646 9.054-8.116 16.172-18.273 23.984" stroke="url(#b)" stroke-width="1.838"/><path d="m306.27 297.22-86.628-32.124s-1.605-0.665-2.048 0.405 1.162 1.734 1.162 1.734l83.972 38.542" fill="#000"/><path d="m306.27 297.22-86.628-32.124s-1.605-0.665-2.048 0.405 1.162 1.734 1.162 1.734l83.972 38.542" stroke="url(#b)" stroke-width="1.838"/><path d="m280.28 282.02c-8.699-9.359-19.218-8.774-26.556-17.564s-16.329-8.919-20.491-11.028c-4.163-2.11-3.901-6.122-5.268-5.648s-0.91 4.972 4.207 8.773c5.118 3.801 9.825 1.739 18.878 12.384 9.054 10.645 16.172 8.115 23.984 18.272" fill="#000"/><path d="m280.28 282.02c-8.699-9.359-19.218-8.774-26.556-17.564s-16.329-8.919-20.491-11.028c-4.163-2.11-3.901-6.122-5.268-5.648s-0.91 4.972 4.207 8.773c5.118 3.801 9.825 1.739 18.878 12.384 9.054 10.645 16.172 8.115 23.984 18.272" stroke="url(#b)" stroke-width="1.838"/><path d="m302.728 305.777 86.628 32.124s1.605.665 2.048-.405c.443-1.069-1.162-1.734-1.162-1.734L306.27 297.22" fill="#000"/><path d="m302.728 305.777 86.628 32.124s1.605.665 2.048-.405c.443-1.069-1.162-1.734-1.162-1.734L306.27 297.22" stroke="url(#b)" stroke-width="1.838"/><path d="m328.72 320.97c8.7 9.36 19.219 8.774 26.557 17.564s16.328 8.919 20.491 11.029c4.163 2.109 3.9 6.121 5.267 5.647s0.91-4.972-4.207-8.773c-5.117-3.8-9.824-1.739-18.878-12.384-9.053-10.645-16.172-8.115-23.983-18.272" fill="#000"/><path d="m328.72 320.97c8.7 9.36 19.219 8.774 26.557 17.564s16.328 8.919 20.491 11.029c4.163 2.109 3.9 6.121 5.267 5.647s0.91-4.972-4.207-8.773c-5.117-3.8-9.824-1.739-18.878-12.384-9.053-10.645-16.172-8.115-23.983-18.272" stroke="url(#b)" stroke-width="1.838"/><path d="m302.728 297.218-83.973 38.542s-1.604.664-1.161 1.734c.443 1.069 2.047.405 2.047.405l86.629-32.124" fill="#000"/><path d="m302.728 297.218-83.973 38.542s-1.604.664-1.161 1.734c.443 1.069 2.047.405 2.047.405l86.629-32.124" stroke="url(#b)" stroke-width="1.838"/><path d="m273.6 304.85c-12.77-0.466-19.794 7.386-31.198 6.36-11.403-1.027-17.852 5.239-22.287 6.691s-7.087-1.571-7.718-0.269c-0.632 1.302 2.872 4.159 9.178 3.228s8.177-5.717 22.106-4.592c13.929 1.126 17.174-5.696 29.88-4.038" fill="#000"/><path d="m273.6 304.85c-12.77-0.466-19.794 7.386-31.198 6.36-11.403-1.027-17.852 5.239-22.287 6.691s-7.087-1.571-7.718-0.269c-0.632 1.302 2.872 4.159 9.178 3.228s8.177-5.717 22.106-4.592c13.929 1.126 17.174-5.696 29.88-4.038" stroke="url(#b)" stroke-width="1.838"/><path d="m306.272 305.777 83.973-38.541s1.604-.665 1.161-1.734c-.443-1.07-2.048-.406-2.048-.406L302.73 297.22" fill="#000"/><path d="m306.272 305.777 83.973-38.541s1.604-.665 1.161-1.734c-.443-1.07-2.048-.406-2.048-.406L302.73 297.22" stroke="url(#b)" stroke-width="1.838"/><path d="m335.4 298.14c12.769 0.466 19.793-7.386 31.197-6.359 11.404 1.026 17.852-5.239 22.287-6.691 4.436-1.452 7.087 1.571 7.719 0.268 0.631-1.302-2.873-4.159-9.179-3.228s-8.176 5.717-22.106 4.592c-13.929-1.126-17.173 5.697-29.879 4.039" fill="#000"/><path d="m335.4 298.14c12.769 0.466 19.793-7.386 31.197-6.359 11.404 1.026 17.852-5.239 22.287-6.691 4.436-1.452 7.087 1.571 7.719 0.268 0.631-1.302-2.873-4.159-9.179-3.228s-8.176 5.717-22.106 4.592c-13.929-1.126-17.173 5.697-29.879 4.039" stroke="url(#b)" stroke-width="1.838"/><path d="m308.776 299.726-38.542-83.973s-.664-1.604-1.734-1.161c-1.069.443-.405 2.047-.405 2.047l32.124 86.628" fill="#000"/><path d="m308.776 299.726-38.542-83.973s-.664-1.604-1.734-1.161c-1.069.443-.405 2.047-.405 2.047l32.124 86.628" stroke="url(#b)" stroke-width="1.838"/><path d="m301.15 270.6c0.466-12.769-7.386-19.794-6.359-31.198s-5.239-17.852-6.691-22.287c-1.452-4.436 1.571-7.087 0.269-7.719-1.302-0.631-4.159 2.873-3.229 9.178 0.931 6.306 5.718 8.177 4.592 22.106-1.125 13.93 5.697 17.174 4.039 29.88" fill="#000"/><path d="m301.15 270.6c0.466-12.769-7.386-19.794-6.359-31.198s-5.239-17.852-6.691-22.287c-1.452-4.436 1.571-7.087 0.269-7.719-1.302-0.631-4.159 2.873-3.229 9.178 0.931 6.306 5.718 8.177 4.592 22.106-1.125 13.93 5.697 17.174 4.039 29.88" stroke="url(#b)" stroke-width="1.838"/><path d="m300.224 303.269 38.542 83.973s.664 1.605 1.734 1.162c1.069-.443.405-2.048.405-2.048l-32.124-86.628" fill="#000"/><path d="m300.224 303.269 38.542 83.973s.664 1.605 1.734 1.162c1.069-.443.405-2.048.405-2.048l-32.124-86.628" stroke="url(#b)" stroke-width="1.838"/><path d="m307.85 332.4c-0.466 12.769 7.386 19.794 6.359 31.198s5.239 17.852 6.691 22.287c1.452 4.436-1.571 7.087-0.269 7.719 1.302 0.631 4.159-2.873 3.229-9.178-0.931-6.306-5.718-8.176-4.592-22.106 1.125-13.929-5.697-17.174-4.039-29.88" fill="#000"/><path d="m307.85 332.4c-0.466 12.769 7.386 19.794 6.359 31.198s5.239 17.852 6.691 22.287c1.452 4.436-1.571 7.087-0.269 7.719 1.302 0.631 4.159-2.873 3.229-9.178-0.931-6.306-5.718-8.176-4.592-22.106 1.125-13.929-5.697-17.174-4.039-29.88" stroke="url(#b)" stroke-width="1.838"/><path d="m302.18 301.5 2.315 63.387 2.316-63.387m-9.578 32.782c-4.126 11.566 0.22 19.244-5.319 29.045 6.154-7.018 2.097-16.113 7.472-28.016" fill="#fff"/><path d="m302.86 299.86-43.183 46.458 46.458-43.184" fill="#fff"/><path d="m302.36 300.61-22.118 59.447 26.396-57.676m-21.392 26.627c-8.238 9.107-7.161 17.863-16.029 24.799 8.371-4.129 8.104-14.084 17.625-23.024" fill="#fff"/><path d="m306.82 301.5-2.315-63.388l-2.316 63.388m9.578-32.788c4.126-11.566-0.22-19.243 5.319-29.045-6.154 7.018-2.097 16.114-7.472 28.017" fill="#fff"/><path d="m304.5 299.183-63.386 2.315 63.386 2.316m-32.785-9.577c-11.566-4.125-19.243.22-29.045-5.318 7.018 6.153 16.114 2.097 28.016 7.472m5.498 23.156c-11.096 5.261-13.452 13.762-24.299 16.777 9.314-.611 12.877-9.911 25.094-14.527" fill="#fff"/><path d="m306.14 299.859-46.458-43.184 43.183 46.458m-16.413-29.954c-5.261-11.095-13.763-13.452-16.777-24.299.611 9.314 9.911 12.877 14.526 25.095" fill="#fff"/><path d="m306.64 302.39 22.118-59.448-26.396 57.676" fill="#fff"/><path d="m305.39 299.36-59.445-22.118 57.673 26.397m-26.627-21.393c-9.107-8.237-17.863-7.161-24.799-16.029 4.13 8.371 14.085 8.104 23.024 17.625" fill="#fff"/><path d="m303.61 299.36-57.674 26.396 59.446-22.117m-33.952 3.699c-12.264 0.615-17.694 7.567-28.869 6.201 8.839 3 15.689-4.229 28.743-3.818" fill="#fff"/><path d="m306.64 300.61-26.395-57.677 22.117 59.448m-3.702-33.949c-.615-12.264-7.568-17.695-6.202-28.87-2.999 8.839 4.229 15.69 3.818 28.743" fill="#fff"/><path d="m304.5 303.81 63.386-2.315-63.386-2.316m32.787 9.577c11.566 4.125 19.243-0.22 29.045 5.318-7.018-6.153-16.114-2.097-28.016-7.472" fill="#fff"/><path d="m306.14 303.137 43.183-46.458-46.458 43.183m29.952-16.414c11.095-5.261 13.452-13.762 24.299-16.777-9.314.611-12.877 9.911-25.094 14.527" fill="#fff"/><path d="m302.86 303.14 46.458 43.183-43.183-46.458m16.414 29.954c5.262 11.096 13.763 13.452 16.778 24.299-0.612-9.314-9.912-12.877-14.527-25.094m-1.046-55.034c8.238-9.107 7.161-17.863 16.029-24.799-8.371 4.129-8.104 14.084-17.625 23.024" fill="#fff"/><path d="m303.61 303.64 59.445 22.118-57.673-26.396m26.625 21.392c9.107 8.238 17.863 7.161 24.799 16.029-4.129-8.37-14.085-8.104-23.024-17.624" fill="#fff"/><path d="m305.39 303.64 57.674-26.396-59.446 22.118m33.95-3.7c12.264-0.615 17.694-7.567 28.869-6.201-8.839-3-15.69 4.229-28.743 3.818" fill="#fff"/><path d="m302.36 302.39 26.395 57.676-22.117-59.448m3.702 33.95c0.615 12.264 7.568 17.694 6.201 28.869 3-8.839-4.229-15.69-3.818-28.743" fill="#fff"/><path d="m304.5 339.13c20.78 0 37.626-16.846 37.626-37.627 0-20.782-16.846-37.628-37.626-37.628s-37.626 16.846-37.626 37.628c0 20.781 16.846 37.627 37.626 37.627z" fill="#000" stroke="url(#b)" stroke-width="1.225"/></g>';

  string private svgEnd = '<defs><linearGradient id="b" x1="304" y1="20" x2="304" y2="580" gradientUnits="userSpaceOnUse"><stop stop-color="#AE8625"/><stop offset=".38" stop-color="#F7EF8A"/><stop offset=".776" stop-color="#D2AC47"/><stop offset="1" stop-color="#EDC967"/></linearGradient><filter id="a" x="0" y="0" width="608" height="608" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="4"/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_34_2"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_34_2" result="shape"/></filter><filter id="h" x="509" y="322" width="9" height="29" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feGaussianBlur stdDeviation="2" result="effect1_foregroundBlur_34_2"/></filter><filter id="i" x="504.61" y="325.646" width="17.744" height="14.102" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feGaussianBlur stdDeviation="2" result="effect1_foregroundBlur_34_2"/></filter><filter id="j" x="507.335" y="315" width="12.33" height="17" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feGaussianBlur stdDeviation="2" result="effect1_foregroundBlur_34_2"/></filter><clipPath id="x"><rect width="189" height="189" fill="white" transform="translate(210 207)"/></clipPath></defs></svg>';

  function tokenURI(uint256 tokenId) public view override returns (string memory) {
    string memory rs;

    for (uint8 i=0; i<20; i++) {
      rs = string(abi.encodePacked(rs, getSymbol(symbolsAddress, i)));
    }

    return string(
      abi.encodePacked(
        'data:application/json;base64,',
        Base64.encode(
          abi.encodePacked(
            '{"name":"TheAncientArtifact #',
            tokenId.toString(),
            '","description": "Experiment."',
            '","image": "data:image/svg+xml;base64,',
            Base64.encode(abi.encodePacked(svgStart, rs, sun, svgEnd)),
            '"}'
            ))));
  }

  function getSymbol(address target, uint8 id) internal view returns (string memory) {
    bytes memory functionSelector = abi.encodePacked('symbol_', uint8(id).toString(), '()');

    bool success;
    bytes memory result;
    (success, result) = address(target).staticcall(abi.encodeWithSelector(bytes4(keccak256(functionSelector))));

    return abi.decode(result, (string));
  }
}
